"use strict";(self.webpackChunkamitnginx=self.webpackChunkamitnginx||[]).push([["src_app_homepage_homepage_module_ts"],{6953:(F,g,s)=>{s.r(g),s.d(g,{HomepageModule:()=>l});var h=s(7073),f=s(287),u=s(898),c=s(6184),t=s(4565),x=s(3183),p=s(3393),b=s(4716),m=s(7990),v=s(2416);const y=["chart"],A=function(o,a,e){return{"bg-gradient-bull":o,"bg-gradient-bear":a,"bg-gradient-warning":e}};function U(o,a){if(1&o&&(t.TgZ(0,"div",10),t._uU(1,"\n          "),t.TgZ(2,"mat-card",11),t._uU(3),t._UZ(4,"br"),t._uU(5),t._UZ(6,"br"),t._uU(7),t._UZ(8,"br"),t._uU(9),t.qZA(),t._uU(10,"\n         \n        "),t.qZA()),2&o){const e=a.$implicit;t.xp6(2),t.Q6J("ngClass",t.kEZ(5,A,e.text3>0,0>e.text3,0==e.text3)),t.xp6(1),t.hij("\xa0\xa0\xa0\xa0",e.text2,""),t.xp6(2),t.hij("\xa0\xa0\xa0\xa0",e.text1,""),t.xp6(2),t.hij("\xa0\xa0\xa0\xa0",e.text3,"%"),t.xp6(2),t.hij("\xa0\xa0\xa0\xa0",e.text4,"\n          ")}}class d{constructor(a,e,n,i,Z){this.http=a,this.dataApi=e,this.window=n,this.route=i,this.router=Z,this.globalmarket=[],this.sectors=[],this.advData=[],this.advLabels=[],this.decData=[],this.advdecChartType="line",this.advdecChartOptions={scales:{},elements:{point:{radius:0}}}}ngOnInit(){this.getglobal(),this.getadvdec(),this.opstrafiidii(),this.getsectors(),setInterval(()=>{this.getadvdec()},3e4),setInterval(()=>{this.getglobal()},3e4),setInterval(()=>{this.getsectors()},3e4)}getglobal(){this.http.get("https://api.niftytrader.in/webapi/Index/globalStock").subscribe(a=>{let e=Object.keys(a).map(n=>a[n]);this.globalmarket.length=0;for(let n in e[2])for(let i in e[2][n].data)this.globalmarket.push({text1:e[2][n].data[i].symbol,text2:e[2][n].data[i].country,text3:e[2][n].data[i].change_per,text4:e[2][n].data[i].change_value,text5:e[2][n].data[i].timestamp})})}getsectors(){this.http.get(" https://api.moneycontrol.com/mcapi/v1/indices/ad-ratio/heat-map?period=1D&type=MC&indexId=9&subType=SE").subscribe(a=>{let e=Object.keys(a).map(n=>a[n]);this.sectors.length=0;for(let n in e[1].chartData)e[1].chartData[n].id&&this.sectors.push({x:e[1].chartData[n].name,y:e[1].chartData[n].changeP});this.chartOptions={series:[{data:this.sectors}],legend:{show:!1},chart:{height:250,type:"treemap"},title:{text:"NIFTY 50"},dataLabels:{enabled:!0,offsetY:-3},plotOptions:{treemap:{enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!0,colorScale:{ranges:[{from:-20,to:0,color:"#CD363A"},{from:.1,to:20,color:"#52B12C"}]}}}}})}getadvdec(){this.http.get("https://www.moneycontrol.com/mc/widget/mfnavonetimeinvestment/get_chart_value1?classic=true").subscribe(a=>{let e=Object.keys(a).map(n=>a[n]);this.advData.length=0,this.decData.length=0,this.advLabels.length=0;for(let n in e[1])this.mcadvvalue=e[1][n].advValue,this.mcdecvalue=e[1][n].decValue,this.advData.push(e[1][n].decValue),this.decData.push(e[1][n].advValue),this.advLabels.push(e[1][n].curDate);this.advdecChartData={datasets:[{label:"advance",data:this.advData},{label:"decline",data:this.decData}],labels:this.advLabels}},a=>{console.log(a)})}trackByFuntion1(a,e){return e.text1}opstrafiidii(){console.log(document.cookie),this.http.get("https://trendlyne.com/equity/getStockMetricParameterList/71260").subscribe(a=>{let e=Object.keys(a).map(n=>a[n]);console.log(e);for(let n in e);})}}d.\u0275fac=function(a){return new(a||d)(t.Y36(u.eN),t.Y36(x.Q),t.Y36(Window),t.Y36(c.gz),t.Y36(c.F0))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-homepage"]],viewQuery:function(a,e){if(1&a&&t.Gf(y,5),2&a){let n;t.iGM(n=t.CRH())&&(e.chart=n.first)}},decls:28,vars:12,consts:[[1,"col-lg-13","grid-margin","stretch-card"],[1,"content","card"],[1,"mb-4"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","11","fxFlex.xs","100%","fxFlex.sm","33%",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-lg-15","grid-margin","stretch-card"],[1,"card"],["baseChart","","height","350",3,"data","options","type"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","title","legend"],["fxFlex","11","fxFlex.xs","100%","fxFlex.sm","33%"],[1,"text-blue","type1-bold","cardbear","grid-margin","stretch-card",3,"ngClass"]],template:function(a,e){1&a&&(t._uU(0,"\n\n    "),t.TgZ(1,"div",0),t._uU(2,"\n        "),t.TgZ(3,"div",1),t._uU(4,"\n          \n          "),t.TgZ(5,"h4",2),t._uU(6,"Global Markets"),t.qZA(),t._uU(7,"\n          "),t.TgZ(8,"div",3),t._uU(9,"\n            "),t.YNc(10,U,11,9,"div",4),t._uU(11,"\n      "),t.qZA(),t._uU(12,"\n      "),t.qZA(),t._uU(13,"\n      "),t.qZA(),t._uU(14,"\n      "),t.TgZ(15,"div",5),t._uU(16,"\n        "),t.TgZ(17,"div",6),t._uU(18,"\n          "),t._UZ(19,"canvas",7),t._uU(20,"\n        "),t.qZA(),t._uU(21,"\n      "),t.qZA(),t._uU(22,"\n      "),t.TgZ(23,"div",8),t._uU(24,"\n        "),t._UZ(25,"apx-chart",9),t._uU(26,"\n      "),t.qZA(),t._uU(27,"\n    \n   \n")),2&a&&(t.xp6(10),t.Q6J("ngForOf",e.globalmarket)("ngForTrackBy",e.trackByFuntion1),t.xp6(9),t.Q6J("data",e.advdecChartData)("options",e.advdecChartOptions)("type",e.advdecChartType)("options",e.advdecChartOptions),t.xp6(6),t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("dataLabels",e.chartOptions.dataLabels)("plotOptions",e.chartOptions.plotOptions)("title",e.chartOptions.title)("legend",e.chartOptions.legend))},dependencies:[h.mk,h.sg,p.xw,p.SQ,p.yH,b.oO,m.jh,v.x],styles:[".InsideContent[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.InsideContent1[_ngcontent-%COMP%]{display:block}.cardbear[_ngcontent-%COMP%]{width:110px;height:100px;margin-right:10px}.control-section[_ngcontent-%COMP%]{width:1100px;height:700px}"]});const C=[{path:"",component:d}];class r{}r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[c.Bz.forChild(C),c.Bz]});var O=s(1847);class l{}l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[h.ez,r,u.JF,O.o9,m.vQ,v.X,f.b2]})}}]);
//# sourceMappingURL=src_app_homepage_homepage_module_ts.js.map