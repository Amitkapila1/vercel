{"version":3,"file":"src_app_homepage_homepage_module_ts.js","mappings":"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","names":["t","d","constructor","a","e","n","i","Z","this","scales","elements","point","radius","ngOnInit","getglobal","getadvdec","opstrafiidii","getsectors","setInterval","http","get","subscribe","Object","keys","map","globalmarket","length","data","push","text1","symbol","text2","country","text3","change_per","text4","change_value","text5","timestamp","sectors","chartData","id","x","name","y","changeP","chartOptions","series","legend","show","chart","height","type","title","text","dataLabels","enabled","offsetY","plotOptions","treemap","enableShades","shadeIntensity","reverseNegativeShade","colorScale","ranges","from","to","color","advData","decData","advLabels","mcadvvalue","advValue","mcdecvalue","decValue","curDate","advdecChartData","datasets","label","labels","console","log","trackByFuntion1","document","cookie","Window","selectors","C","path","component","r","c","l","h","u","O","m","v","f"],"sourceRoot":"webpack:///","sources":["./src/app/homepage/homepage.component.html","./src/app/homepage/homepage.component.ts","./src/app/homepage/homepage-routing.module.ts","./src/app/homepage/homepage.module.ts"],"sourcesContent":["<!--The content below is only a placeholder and can be replaced.-->\r\n\r\n    <div class=\"col-lg-13 grid-margin stretch-card\">\r\n        <div class=\"content card\">\r\n          \r\n          <h4 class=\"mb-4\">Global Markets</h4>\r\n          <div fxLayout=\"row wrap\" fxLayoutGap=\"16px grid\">\r\n            <div fxFlex=\"11\" fxFlex.xs=\"100%\" fxFlex.sm=\"33%\"  *ngFor=\"let tile of globalmarket trackBy: trackByFuntion1\">\r\n          <mat-card class=\"text-blue type1-bold cardbear grid-margin stretch-card\"\r\n          [ngClass]=\"{'bg-gradient-bull':tile.text3 > 0,\r\n                    'bg-gradient-bear':0 > tile.text3 ,\r\n                     'bg-gradient-warning':tile.text3 == 0}\">&nbsp;&nbsp;&nbsp;&nbsp;{{tile.text2}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{tile.text1}}<br>&nbsp;&nbsp;&nbsp;&nbsp;{{tile.text3}}%<br>&nbsp;&nbsp;&nbsp;&nbsp;{{tile.text4}}\r\n          </mat-card>\r\n         \r\n        </div>\r\n      </div>\r\n      </div>\r\n      </div>\r\n      <div class=\"col-lg-15 grid-margin stretch-card \">\r\n        <div class=\"card\">\r\n          <canvas baseChart height=\"350\" [data]=\"advdecChartData\" [options]=\"advdecChartOptions\" [type]=\"advdecChartType\" [options]=\"advdecChartOptions\"></canvas>\r\n        </div>\r\n      </div>\r\n      <div id=\"chart\">\r\n        <apx-chart\r\n          [series]=\"chartOptions.series\"\r\n          [chart]=\"chartOptions.chart\"\r\n          [dataLabels]=\"chartOptions.dataLabels\"\r\n          [plotOptions]=\"chartOptions.plotOptions\"\r\n          [title]=\"chartOptions.title\"\r\n          [legend]=\"chartOptions.legend\"\r\n        ></apx-chart>\r\n      </div>\r\n    \r\n   \r\n","import { Component, OnInit,ViewChild } from '@angular/core';\r\nimport { DataapiService } from '../../dataapi.service'\r\nimport { HttpClient,HttpHeaders} from \"@angular/common/http\";\r\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { Chart, ChartOptions, ChartConfiguration, ChartType } from 'chart.js';\r\nimport ApexCharts from 'apexcharts'\r\nimport {\r\n  ApexAxisChartSeries,\r\n  ApexTitleSubtitle,\r\n  ApexDataLabels,\r\n  ApexChart,\r\n  ApexPlotOptions,\r\n  ApexLegend,\r\n  ChartComponent\r\n} from \"ng-apexcharts\";\r\n\r\nexport type ChartOptions1 = {\r\n  series: ApexAxisChartSeries;\r\n  chart: ApexChart;\r\n  dataLabels: ApexDataLabels;\r\n  title: ApexTitleSubtitle;\r\n  plotOptions: ApexPlotOptions;\r\n  legend: ApexLegend;\r\n};\r\n\r\n\r\nexport interface globalmarkettiles {\r\n\r\n  text1: string;\r\n  text2: string;\r\n  text3: string;\r\n  text4: string;\r\n  text5: string;\r\n  \r\n}\r\nexport interface sectortiles {\r\n\r\n  x: string;\r\n  y: any;\r\n  \r\n  \r\n  \r\n}\r\n\r\n//TreeMap.Inject(TreeMapTooltip, TreeMapLegend);\r\n@Component({\r\n  selector: 'app-homepage',\r\n  templateUrl: './homepage.component.html',\r\n  styleUrls: ['./homepage.component.scss'],\r\n \r\n})\r\nexport class HomepageComponent implements OnInit {\r\n  //@ViewChild(BaseChartDirective) chart?: BaseChartDirective;\r\n  @ViewChild(\"chart\") chart: ChartComponent;\r\n  public chartOptions: Partial<ChartOptions1>;\r\n\r\n  constructor(private http: HttpClient,private dataApi: DataapiService, private window: Window, private route: ActivatedRoute, private router: Router) { }\r\n  globalmarket: globalmarkettiles[] = [];\r\n  sectors:sectortiles[] = [];\r\n  mcadvvalue: any\r\n  mcdecvalue: any\r\n  user: string;\r\n  public advData: Array<any> = [];\r\n  public advLabels: Array<number> = [];\r\n  public decData: Array<any> = [];\r\n  public advdecChartData: ChartConfiguration['data']\r\n  public advdecChartType: ChartType = 'line';\r\n  public leafItemSettings: object\r\n  public data: object[]\r\n  public tooltipSettings: object\r\n  public advdecChartOptions:ChartOptions = {\r\n    scales: {},\r\n\r\n    elements: {\r\n      point: {\r\n        radius: 0\r\n      }\r\n    }\r\n  };\r\n  \r\n \r\n  ngOnInit(): void {\r\n    this.getglobal()\r\n    this.getadvdec()\r\n    this.opstrafiidii()\r\n    this.getsectors()\r\n    setInterval(() => { this.getadvdec() }, 30000);\r\n    setInterval(() => { this.getglobal() }, 30000);\r\n    setInterval(() => { this.getsectors() }, 30000);\r\n   \r\n    \r\n  }\r\n  getglobal() {\r\n   \r\n    this.http.get<any>('https://api.niftytrader.in/webapi/Index/globalStock').subscribe(data5 => {\r\n    \r\n      let nestedItems = Object.keys(data5).map(key => {\r\n        return data5[key];\r\n      });\r\n      this.globalmarket.length = 0;\r\n      for (let val in nestedItems[2]) {\r\n        for (let val1 in nestedItems[2][val]['data']) {\r\n          this.globalmarket.push({ text1: nestedItems[2][val]['data'][val1].symbol,text2:nestedItems[2][val]['data'][val1].country,text3:nestedItems[2][val]['data'][val1].change_per,text4:nestedItems[2][val]['data'][val1].change_value,text5:nestedItems[2][val]['data'][val1].timestamp })\r\n        }\r\n      }\r\n    })\r\n  \r\n\r\n  }\r\n  getsectors() {\r\n    this.http.get<any>(' https://api.moneycontrol.com/mcapi/v1/indices/ad-ratio/heat-map?period=1D&type=MC&indexId=9&subType=SE').subscribe(data5 => {\r\n    \r\n      let nestedItems = Object.keys(data5).map(key => {\r\n        return data5[key];\r\n      });\r\n     \r\n       this.sectors.length = 0;\r\n      for (let val in nestedItems[1].chartData) {\r\n\r\n        if (nestedItems[1].chartData[val].id) {\r\n          this.sectors.push({ x: nestedItems[1].chartData[val].name, y: (nestedItems[1].chartData[val].changeP)})\r\n                                              }\r\n      }\r\n      this.chartOptions = {\r\n        series: [\r\n          {\r\n            data: this.sectors\r\n          }\r\n        ],\r\n        legend: {\r\n          show: false\r\n        },\r\n        chart: {\r\n          height: 250,\r\n          type: \"treemap\"\r\n        },\r\n        title: {\r\n          text: \"NIFTY 50\"\r\n        },\r\n        dataLabels: {\r\n          enabled: true,\r\n  \r\n          offsetY: -3\r\n        },\r\n        plotOptions: {\r\n          treemap: {\r\n            enableShades: true,\r\n            shadeIntensity: 0.5,\r\n            reverseNegativeShade: true,\r\n            colorScale: {\r\n              ranges: [\r\n                {\r\n                  from: -20,\r\n                  to: 0,\r\n                  color: \"#CD363A\"\r\n                },\r\n                {\r\n                  from: 0.1,\r\n                  to: 20,\r\n                  color: \"#52B12C\"\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      };\r\n    });           \r\n  }\r\n  getadvdec() {\r\n   \r\n    this.http.get<any>('https://www.moneycontrol.com/mc/widget/mfnavonetimeinvestment/get_chart_value1?classic=true').subscribe(data5 => {\r\n    \r\n      let nestedItems = Object.keys(data5).map(key => {\r\n        return data5[key];\r\n      });\r\n      this.advData.length = 0;\r\n      this.decData.length = 0;\r\n      this.advLabels.length = 0;\r\n      for (let val in nestedItems[1]) {\r\n        this.mcadvvalue = nestedItems[1][val].advValue\r\n        this.mcdecvalue = nestedItems[1][val].decValue\r\n        this.advData.push(nestedItems[1][val].decValue)\r\n        this.decData.push(nestedItems[1][val].advValue)\r\n        this.advLabels.push(nestedItems[1][val].curDate)\r\n        \r\n       \r\n      }\r\n      this.advdecChartData = {\r\n        \r\n        datasets: [\r\n          {\r\n            label: 'advance',\r\n            data: this.advData\r\n          },\r\n          {\r\n            label: 'decline',\r\n            data: this.decData\r\n          }],\r\n          labels:this.advLabels\r\n           };\r\n     \r\n    }, err => {\r\n      console.log(err)\r\n    })\r\n    \r\n  }\r\n  \r\n  trackByFuntion1(index1, item1) {\r\n     return item1.text1\r\n   }\r\n  opstrafiidii() {\r\n    console.log(document.cookie)\r\n    //let headers: HttpHeaders = new HttpHeaders()\r\n    //headers = headers.append('cookie','_ga=GA1.2.775644955.1603113261; __utma=185246956.775644955.1603113261.1614010114.1614018734.3; _gid=GA1.2.1569867014.1655128119; csrftoken=j1Eh0zadbXX2a6wxeWMsyiN8tqMSwOXK8TSXab1ceRJkqLb4aiWHtuYjRjIeTSIb; .trendlyne=a7juoxwv02x77mw4wynxk1g43sjy9f36; _gat=1');\r\n   // headers = headers.append('cookie','_ga=GA1.2.775644955.1603113261; __utma=185246956.775644955.1603113261.1614010114.1614018734.3; _gid=GA1.2.1569867014.1655128119; csrftoken=Fpues3hutZZ3i8S6FShRiVvk4uOXbl9tHBfdqByuhssEAISHMY6G5fXkfmwGI4Ov; .trendlyne=e3qcvnv4pt6rsd5avmsbj26fe6lzd8uo')\r\n   // console.log(headers)\r\n    this.http.get<any>('https://trendlyne.com/equity/getStockMetricParameterList/71260').subscribe(data5 => {\r\n   \r\n      let nestedItems = Object.keys(data5).map(key => {\r\n        return data5[key];\r\n      });\r\n      \r\n      console.log(nestedItems)\r\n      for (let val in nestedItems) {\r\n        \r\n       \r\n      }\r\n      //   this.advdecChartData = {\r\n        \r\n      //     datasets: [\r\n      //       {\r\n      //         label: 'advance',\r\n      //         data: this.advData\r\n      //       },\r\n      //       {\r\n      //         label: 'decline',\r\n      //         data: this.decData\r\n      //       }],\r\n      //       labels:this.advLabels\r\n      //        };\r\n     \r\n      // }, err => {\r\n      //   console.log(err)\r\n\r\n      \r\n\r\n\r\n    \r\n       })\r\n    \r\n    }\r\n \r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomepageComponent } from './homepage.component';\r\n\r\nconst routes: Routes = [{ path: '', component: HomepageComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomepageRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport {HttpClientModule, HttpErrorResponse} from '@angular/common/http';\r\nimport { HomepageRoutingModule } from './homepage-routing.module';\r\nimport { HomepageComponent } from './homepage.component';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { NgChartsModule } from 'ng2-charts';\r\nimport { NgApexchartsModule } from \"ng-apexcharts\";\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomepageComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    HomepageRoutingModule,\r\n    HttpClientModule,\r\n    FlexLayoutModule,\r\n    NgChartsModule,\r\n    NgApexchartsModule,\r\n    BrowserModule,\r\n   \r\n\r\n  ],\r\n  providers: [ ],\r\n})\r\nexport class HomepageModule { }\r\n"],"x_google_ignoreList":[]}